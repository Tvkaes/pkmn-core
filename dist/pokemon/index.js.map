{"version":3,"sources":["../../src/pokemon/parser.ts","../../src/pokemon/matchups.ts","../../src/pokemon/roles.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["// Derived from Tvkaes/Pokedex src/services/pokemonService.ts and src/utils/helpers.ts\n// Provides the unified parser and normalization logic for PokeAPI payloads without Vue/Pinia dependencies.\n\nimport type {\n  PokemonAlternateForm,\n  PokemonBundle,\n  PokemonData,\n  PokemonDisplayData,\n  PokemonDetails,\n  PokemonFeaturedAbility,\n  PokemonGridEntry,\n  PokemonSignatureMove,\n  PokemonSpeciesData,\n  Locale,\n} from './types'\n\nconst LANGUAGE_PREFERENCE: Record<Locale, string[]> = {\n  en: ['en'],\n  es: ['es', 'es-la'],\n  ja: ['ja-Hrkt', 'ja'],\n}\n\nconst REGIONAL_VARIANTS = [\n  { keyword: 'alola', region: 'Alola' },\n  { keyword: 'galar', region: 'Galar' },\n  { keyword: 'hisui', region: 'Hisui' },\n  { keyword: 'paldea', region: 'Paldea' },\n]\n\nconst SPECIAL_VARIANT_KEYWORDS = [\n  'attack',\n  'defense',\n  'speed',\n  'school',\n  'shield',\n  'blade',\n  'origin',\n  'sky',\n  'zen',\n  'dawn',\n  'dusk',\n  'midnight',\n  'sunny',\n  'rainy',\n  'snowy',\n  'therian',\n  'incarnate',\n  'resolute',\n  'pirouette',\n  'trash',\n  'sand',\n  'average',\n  'sensu',\n  'pom-pom',\n  'pau',\n  'baile',\n  'heat',\n  'wash',\n  'frost',\n  'fan',\n  'mow',\n]\n\ntype VariantClassification = {\n  kind: NonNullable<PokemonAlternateForm['variantKind']>\n  region?: string\n}\n\nexport interface PokemonParserOptions {\n  locale: Locale\n  featuredAbilityOverride?: PokemonFeaturedAbility | null\n}\n\nexport interface PokemonParseResult {\n  details: PokemonDetails\n  gridEntry: PokemonGridEntry\n}\n\nexport function normalizeIdentifier(identifier: string | number): string {\n  return String(identifier).toLowerCase()\n}\n\nfunction buildLanguagePriority(locale: Locale): string[] {\n  const primary = LANGUAGE_PREFERENCE[locale] ?? LANGUAGE_PREFERENCE.en\n  const fallback = LANGUAGE_PREFERENCE.en\n  const merged = [...primary, ...fallback]\n  return Array.from(new Set(merged))\n}\n\nfunction findByLanguage<T extends { language?: { name?: string } }>(entries: T[] | undefined, locale: Locale): T | undefined {\n  if (!entries?.length) return undefined\n  const priorityOrder = buildLanguagePriority(locale)\n  for (const code of priorityOrder) {\n    const match = entries.find((item) => item.language?.name === code)\n    if (match) {\n      return match\n    }\n  }\n  return undefined\n}\n\nexport function formatPokemonName(name: string): string {\n  if (!name) return ''\n  return name.charAt(0).toUpperCase() + name.slice(1)\n}\n\nexport function formatPokemonId(id: number): string {\n  return `#${String(id).padStart(3, '0')}`\n}\n\nexport function extractDescription(species: PokemonSpeciesData | undefined, locale: Locale = 'en'): string {\n  const entry = findByLanguage(species?.flavor_text_entries, locale)\n  if (!entry) return ''\n  return entry.flavor_text.replace(/\\f|\\n|\\r/g, ' ').trim()\n}\n\nexport function extractGenus(species: PokemonSpeciesData | undefined, locale: Locale = 'en'): string {\n  const genus = findByLanguage(species?.genera, locale)\n  return genus?.genus ?? ''\n}\n\nexport function extractNativeName(species: PokemonSpeciesData | undefined, locale: Locale = 'en'): string {\n  const entry = findByLanguage(species?.names, locale)\n  if (entry?.name) return entry.name\n  if (locale === 'ja') {\n    const japanese = species?.names?.find((item) => item.language?.name === 'ja-Hrkt')\n    if (japanese?.name) return japanese.name\n  }\n  return ''\n}\n\nexport function extractLocalizedDisplayName(\n  data: PokemonData,\n  species: PokemonSpeciesData | undefined,\n  locale: Locale = 'en'\n): string {\n  const localized = findByLanguage(species?.names, locale)?.name\n  if (localized) return localized\n  return formatPokemonName(data.name)\n}\n\nexport function mapStats(pokemon: PokemonData): PokemonDisplayData['stats'] {\n  return pokemon.stats.map((stat) => {\n    const labelMap: Record<string, string> = {\n      hp: 'HP',\n      attack: 'ATK',\n      defense: 'DEF',\n      'special-attack': 'SP. ATK',\n      'special-defense': 'SP. DEF',\n      speed: 'SPD',\n    }\n    const label = labelMap[stat.stat.name] ?? stat.stat.name.toUpperCase()\n    const value = stat.base_stat\n    const percentage = Math.min((value / 255) * 100, 100)\n    return { label, value, percentage }\n  })\n}\n\nexport function selectFeaturedAbility(pokemon: PokemonData): PokemonFeaturedAbility | null {\n  if (!pokemon.abilities?.length) return null\n  const preferred = pokemon.abilities.find((ability) => !ability.is_hidden) ?? pokemon.abilities[0]\n  const slug = preferred?.ability?.name\n  if (!slug) return null\n  return {\n    name: formatPokemonName(slug.replace('-', ' ')),\n    slug,\n    isHidden: preferred.is_hidden,\n  }\n}\n\nexport function formatMoveLabel(name: string): string {\n  return name\n    .split('-')\n    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))\n    .join(' ')\n}\n\nexport function selectSignatureMoves(data: PokemonData): PokemonSignatureMove[] {\n  if (!data.moves?.length) return []\n\n  const normalized = data.moves\n    .map((entry): PokemonSignatureMove => {\n      const primaryDetail =\n        entry.version_group_details?.find((detail) => detail.move_learn_method?.name === 'level-up') ??\n        entry.version_group_details?.[0]\n\n      if (!primaryDetail) {\n        return {\n          name: formatMoveLabel(entry.move.name),\n        }\n      }\n\n      return {\n        name: formatMoveLabel(entry.move.name),\n        level: primaryDetail.level_learned_at || undefined,\n        method: primaryDetail.move_learn_method?.name ?? undefined,\n        versionGroup: primaryDetail.version_group?.name ?? undefined,\n      }\n    })\n\n  return normalized\n    .sort((a, b) => (b.level ?? 0) - (a.level ?? 0))\n    .slice(0, 4)\n}\n\nexport function createPokemonBundle(\n  data: PokemonData,\n  species: PokemonSpeciesData,\n  alternateForms: PokemonAlternateForm[] = []\n): PokemonBundle {\n  return { data, species, alternateForms }\n}\n\nexport function classifyVariant(name: string): VariantClassification | null {\n  const normalized = name.toLowerCase()\n\n  if (normalized.includes('mega')) {\n    return { kind: 'mega' }\n  }\n\n  if (normalized.includes('primal')) {\n    return { kind: 'primal' }\n  }\n\n  if (normalized.includes('gigantamax') || normalized.includes('gmax') || normalized.includes('dynamax') || normalized.includes('dmax')) {\n    return { kind: 'dynamax' }\n  }\n\n  const regionalMatch = REGIONAL_VARIANTS.find(({ keyword }) => normalized.includes(keyword))\n  if (regionalMatch) {\n    return {\n      kind: 'regional',\n      region: regionalMatch.region,\n    }\n  }\n\n  if (SPECIAL_VARIANT_KEYWORDS.some((keyword) => normalized.includes(keyword))) {\n    return { kind: 'special' }\n  }\n\n  return null\n}\n\nexport function mapDisplayData(\n  bundle: PokemonBundle,\n  locale: Locale,\n  featuredAbilityOverride?: PokemonFeaturedAbility | null\n): PokemonDisplayData {\n  const { data, species, alternateForms } = bundle\n  return {\n    id: data.id,\n    formattedId: formatPokemonId(data.id),\n    name: extractLocalizedDisplayName(data, species, locale),\n    nativeName: extractNativeName(species, 'ja'),\n    description: extractDescription(species, locale),\n    genus: extractGenus(species, locale),\n    stats: mapStats(data),\n    types: data.types,\n    abilities: data.abilities,\n    featuredAbility: featuredAbilityOverride ?? selectFeaturedAbility(data),\n    signatureMoves: selectSignatureMoves(data),\n    height: data.height / 10,\n    weight: data.weight / 10,\n    sprite:\n      data.sprites?.other?.['official-artwork']?.front_default ??\n      data.sprites?.other?.home?.front_default ??\n      data.sprites?.front_default ??\n      '',\n    spriteShiny:\n      data.sprites?.other?.['official-artwork']?.front_shiny ??\n      data.sprites?.other?.home?.front_shiny ??\n      data.sprites?.front_shiny ??\n      null,\n    cryUrl: data.cries?.latest ?? data.cries?.legacy ?? undefined,\n    hasMegaEvolution: alternateForms.length > 0,\n    alternateForms,\n  }\n}\n\nexport function mapGridEntry(bundle: PokemonBundle, locale: Locale): PokemonGridEntry {\n  const { data, species, alternateForms } = bundle\n  return {\n    id: data.id,\n    formattedId: formatPokemonId(data.id),\n    name: extractLocalizedDisplayName(data, species, locale),\n    nativeName: extractNativeName(species, 'ja'),\n    sprite:\n      data.sprites?.other?.['official-artwork']?.front_default ??\n      data.sprites?.other?.home?.front_default ??\n      data.sprites?.front_default ??\n      '',\n    primaryType: data.types?.[0]?.type?.name ?? 'normal',\n    hasMegaEvolution: alternateForms.length > 0,\n    alternateForms: alternateForms.length ? alternateForms : undefined,\n    cryUrl: data.cries?.latest ?? data.cries?.legacy ?? undefined,\n  }\n}\n\nexport function parsePokemon(bundle: PokemonBundle, options: PokemonParserOptions): PokemonParseResult {\n  const display = mapDisplayData(bundle, options.locale, options.featuredAbilityOverride)\n  const primaryType = bundle.data.types?.[0]?.type?.name ?? 'normal'\n  const details: PokemonDetails = {\n    primaryType,\n    raw: bundle.data,\n    species: bundle.species,\n    display,\n  }\n\n  return {\n    details,\n    gridEntry: mapGridEntry(bundle, options.locale),\n  }\n}\n","// Extracted from Tvkaes/Pokedex src/data/type-chart.ts\n// Provides weakness/resistance/cov erage calculations without UI dependencies.\n\nexport type TypeChartEntry = {\n  strongAgainst: string[]\n  weakAgainst: string[]\n  immuneTo: string[]\n}\n\nexport type TypeMatchup = {\n  type: string\n  multiplier: number\n}\n\nexport type OffensiveCoverageEntry = {\n  type: string\n  sources: string[]\n  multiplier: number\n}\n\nexport const TYPE_CHART: Record<string, TypeChartEntry> = {\n  normal: { strongAgainst: [], weakAgainst: ['rock', 'steel'], immuneTo: ['ghost'] },\n  fire: { strongAgainst: ['grass', 'ice', 'bug', 'steel'], weakAgainst: ['fire', 'water', 'rock', 'dragon'], immuneTo: [] },\n  water: { strongAgainst: ['fire', 'ground', 'rock'], weakAgainst: ['water', 'grass', 'dragon'], immuneTo: [] },\n  electric: { strongAgainst: ['water', 'flying'], weakAgainst: ['electric', 'grass', 'dragon'], immuneTo: ['ground'] },\n  grass: {\n    strongAgainst: ['water', 'ground', 'rock'],\n    weakAgainst: ['fire', 'grass', 'poison', 'flying', 'bug', 'dragon', 'steel'],\n    immuneTo: [],\n  },\n  ice: { strongAgainst: ['grass', 'ground', 'flying', 'dragon'], weakAgainst: ['fire', 'water', 'ice', 'steel'], immuneTo: [] },\n  fighting: {\n    strongAgainst: ['normal', 'ice', 'rock', 'dark', 'steel'],\n    weakAgainst: ['poison', 'flying', 'psychic', 'bug', 'fairy'],\n    immuneTo: ['ghost'],\n  },\n  poison: { strongAgainst: ['grass', 'fairy'], weakAgainst: ['poison', 'ground', 'rock', 'ghost'], immuneTo: ['steel'] },\n  ground: { strongAgainst: ['fire', 'electric', 'poison', 'rock', 'steel'], weakAgainst: ['grass', 'bug'], immuneTo: ['flying'] },\n  flying: { strongAgainst: ['grass', 'fighting', 'bug'], weakAgainst: ['electric', 'rock', 'steel'], immuneTo: [] },\n  psychic: { strongAgainst: ['fighting', 'poison'], weakAgainst: ['psychic', 'steel'], immuneTo: ['dark'] },\n  bug: {\n    strongAgainst: ['grass', 'psychic', 'dark'],\n    weakAgainst: ['fire', 'fighting', 'poison', 'flying', 'ghost', 'steel', 'fairy'],\n    immuneTo: [],\n  },\n  rock: { strongAgainst: ['fire', 'ice', 'flying', 'bug'], weakAgainst: ['fighting', 'ground', 'steel'], immuneTo: [] },\n  ghost: { strongAgainst: ['psychic', 'ghost'], weakAgainst: ['dark'], immuneTo: ['normal'] },\n  dragon: { strongAgainst: ['dragon'], weakAgainst: ['steel'], immuneTo: ['fairy'] },\n  dark: { strongAgainst: ['psychic', 'ghost'], weakAgainst: ['fighting', 'dark', 'fairy'], immuneTo: [] },\n  steel: { strongAgainst: ['ice', 'rock', 'fairy'], weakAgainst: ['fire', 'water', 'electric', 'steel'], immuneTo: [] },\n  fairy: { strongAgainst: ['fighting', 'dragon', 'dark'], weakAgainst: ['fire', 'poison', 'steel'], immuneTo: [] },\n}\n\nfunction calculateTypeMultipliers(pokemonTypes: string[]): Record<string, number> {\n  const multipliers: Record<string, number> = {}\n\n  for (const attackingType of Object.keys(TYPE_CHART)) {\n    let modifier = 1\n    for (const rawDefType of pokemonTypes) {\n      const defType = rawDefType.toLowerCase()\n      const chart = TYPE_CHART[attackingType]\n      if (!chart) continue\n\n      if (chart.strongAgainst.includes(defType)) {\n        modifier *= 2\n      } else if (chart.weakAgainst.includes(defType)) {\n        modifier *= 0.5\n      } else if (chart.immuneTo.includes(defType)) {\n        modifier = 0\n        break\n      }\n    }\n    multipliers[attackingType] = modifier\n  }\n\n  return multipliers\n}\n\nexport function getTypeWeaknesses(pokemonTypes: string[]): string[] {\n  const multipliers = calculateTypeMultipliers(pokemonTypes)\n\n  return Object.entries(multipliers)\n    .filter(([, value]) => value > 1)\n    .map(([type]) => type)\n}\n\nexport function getTypeMatchups(pokemonTypes: string[]) {\n  const normalizedTypes = pokemonTypes.map((type) => type.toLowerCase())\n  const multipliers = calculateTypeMultipliers(normalizedTypes)\n\n  const entries: TypeMatchup[] = Object.entries(multipliers).map(([type, multiplier]) => ({\n    type,\n    multiplier,\n  }))\n\n  const weaknesses = entries\n    .filter(({ multiplier }) => multiplier > 1)\n    .sort((a, b) => b.multiplier - a.multiplier)\n  const resistances = entries\n    .filter(({ multiplier }) => multiplier > 0 && multiplier < 1)\n    .sort((a, b) => a.multiplier - b.multiplier)\n  const immunities = entries.filter(({ multiplier }) => multiplier === 0)\n\n  return { weaknesses, resistances, immunities }\n}\n\nexport function getOffensiveCoverage(pokemonTypes: string[]): OffensiveCoverageEntry[] {\n  const normalizedTypes = pokemonTypes.map((type) => type.toLowerCase())\n  const coverage: Record<string, Set<string>> = {}\n\n  for (const type of normalizedTypes) {\n    const entry = TYPE_CHART[type]\n    if (!entry) continue\n\n    for (const target of entry.strongAgainst) {\n      if (!coverage[target]) {\n        coverage[target] = new Set()\n      }\n      coverage[target].add(type)\n    }\n  }\n\n  return Object.entries(coverage)\n    .map(([type, sources]) => ({\n      type,\n      sources: Array.from(sources),\n      multiplier: 2,\n    }))\n    .sort((a, b) => {\n      if (b.sources.length === a.sources.length) {\n        return a.type.localeCompare(b.type)\n      }\n      return b.sources.length - a.sources.length\n    })\n}\n\nexport function getCoverageTargets(attackType: string): string[] {\n  const entry = TYPE_CHART[attackType.toLowerCase()]\n  if (!entry) return []\n  return entry.strongAgainst\n}\n","// Extracted from Tvkaes/Pokedex src/services/competitiveMovesService.ts\n// Provides battle profile determination and role inference based on base stats.\n\nimport type { PokemonStat } from './types'\n\nexport type OffensiveBias = 'physical' | 'special' | 'mixed'\n\nexport interface BattleProfile {\n  offensiveBias: OffensiveBias\n  speed: number\n  isSweeper: boolean\n  isTank: boolean\n  isWallbreaker: boolean\n  isSupport: boolean\n}\n\nexport interface RoleWeights {\n  sweeper: number\n  wallbreaker: number\n  tank: number\n  support: number\n}\n\nconst BULK_THRESHOLD = 335\nconst SWEEPER_SPEED_THRESHOLD = 100\nconst WALLBREAKER_ATTACK_THRESHOLD = 120\nconst SUPPORT_BULK_THRESHOLD = 300\n\nfunction getStatValue(stats: PokemonStat[], name: string): number {\n  return stats.find((stat) => stat.stat.name === name)?.base_stat ?? 0\n}\n\nfunction calculateBulk(stats: PokemonStat[]): number {\n  return (\n    getStatValue(stats, 'hp') +\n    getStatValue(stats, 'defense') +\n    getStatValue(stats, 'special-defense')\n  )\n}\n\nfunction determineOffensiveBias(attack: number, specialAttack: number): OffensiveBias {\n  const difference = attack - specialAttack\n  if (difference > 15) return 'physical'\n  if (difference < -15) return 'special'\n  return 'mixed'\n}\n\nexport function determineBattleProfile(stats: PokemonStat[]): BattleProfile {\n  const attack = getStatValue(stats, 'attack')\n  const specialAttack = getStatValue(stats, 'special-attack')\n  const speed = getStatValue(stats, 'speed')\n  const bulk = calculateBulk(stats)\n\n  const offensiveBias = determineOffensiveBias(attack, specialAttack)\n  const maxOffense = Math.max(attack, specialAttack)\n\n  return {\n    offensiveBias,\n    speed,\n    isSweeper: speed >= SWEEPER_SPEED_THRESHOLD,\n    isTank: bulk >= BULK_THRESHOLD,\n    isWallbreaker: maxOffense >= WALLBREAKER_ATTACK_THRESHOLD,\n    isSupport: bulk >= SUPPORT_BULK_THRESHOLD && speed < SWEEPER_SPEED_THRESHOLD,\n  }\n}\n\nexport function inferRoleWeights(stats: PokemonStat[]): RoleWeights {\n  const profile = determineBattleProfile(stats)\n  const attack = getStatValue(stats, 'attack')\n  const specialAttack = getStatValue(stats, 'special-attack')\n  const speed = getStatValue(stats, 'speed')\n  const bulk = calculateBulk(stats)\n  const maxOffense = Math.max(attack, specialAttack)\n\n  let sweeper = 0\n  let wallbreaker = 0\n  let tank = 0\n  let support = 0\n\n  // Sweeper: high speed + decent offense\n  if (speed >= 90) {\n    sweeper += (speed - 90) * 1.5\n    sweeper += Math.max(0, maxOffense - 80) * 0.8\n  }\n\n  // Wallbreaker: raw power regardless of speed\n  if (maxOffense >= 100) {\n    wallbreaker += (maxOffense - 100) * 2\n    if (speed < 80) wallbreaker += 20 // slow wallbreakers get bonus\n  }\n\n  // Tank: bulk + some offense for longevity\n  if (bulk >= 280) {\n    tank += (bulk - 280) * 0.8\n    if (maxOffense >= 70) tank += 15\n  }\n\n  // Support: bulk without high offense, utility-focused\n  if (bulk >= 260 && maxOffense < 110) {\n    support += (bulk - 260) * 0.6\n    if (speed < 70) support += 10\n  }\n\n  // Normalize weights\n  const total = sweeper + wallbreaker + tank + support || 1\n  return {\n    sweeper: Math.round((sweeper / total) * 100),\n    wallbreaker: Math.round((wallbreaker / total) * 100),\n    tank: Math.round((tank / total) * 100),\n    support: Math.round((support / total) * 100),\n  }\n}\n\nexport function getPrimaryRole(stats: PokemonStat[]): keyof RoleWeights {\n  const weights = inferRoleWeights(stats)\n  const entries = Object.entries(weights) as Array<[keyof RoleWeights, number]>\n  entries.sort((a, b) => b[1] - a[1])\n  const topEntry = entries[0]\n  return topEntry ? topEntry[0] : 'tank'\n}\n\nexport function getViableRoles(stats: PokemonStat[], threshold = 20): Array<keyof RoleWeights> {\n  const weights = inferRoleWeights(stats)\n  return (Object.entries(weights) as Array<[keyof RoleWeights, number]>)\n    .filter(([, weight]) => weight >= threshold)\n    .sort((a, b) => b[1] - a[1])\n    .map(([role]) => role)\n}\n"]}